<mujoco model="ch_robot">
  <compiler angle="radian" coordinate="local" meshdir="stls/colision"/>

  <option timestep="0.002" gravity = "0 0 -9.81"/>

  <default>
    <joint limited="true" damping="1"/>
    <default class="servo">
        <position kp="1" kv="1"/>
    </default>
    <geom type="mesh" contype="0" conaffinity="0" group="0"/>
  </default>

  <!-- ===================== -->
  <!--        ASSETS          -->
  <!-- ===================== -->
  <asset>
    <mesh name="hip" file="hip_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg1" file="left_leg1_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg2" file="left_leg2_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg3" file="left_leg3_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg4" file="left_leg4_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_foot" file="left_foot_ch.stl" scale="0.001 0.001 0.001"/>

    <mesh name="right_leg1" file="right_leg1_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg2" file="right_leg2_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg3" file="right_leg3_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg4" file="right_leg4_ch.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_foot" file="right_foot_ch.stl" scale="0.001 0.001 0.001"/>

    <!-- Visual meshes -->
    <mesh name="hip_visual" file="../hip_dumb2.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg1_visual" file="../left_leg1_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg2_visual" file="../left_leg2_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg3_visual" file="../left_leg3_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_leg4_visual" file="../left_leg4_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="left_foot_visual" file="../left_foot.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg1_visual" file="../right_leg1_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg2_visual" file="../right_leg2_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg3_visual" file="../right_leg3_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_leg4_visual" file="../right_leg4_dumb.stl" scale="0.001 0.001 0.001"/>
    <mesh name="right_foot_visual" file="../right_foot.stl" scale="0.001 0.001 0.001"/>
    <texture name="grid" type="2d" builtin="checker" width="512" height="512" rgb1="0.2 0.3 0.4" rgb2="0.3 0.4 0.5"/>
    <material name="grid" texture="grid" texrepeat="1 1" texuniform="true" reflectance="0.2"/>

    <!-- Metallic material for the robot -->
    <material name="metal_silver"
              rgba="0.55 0.55 0.60 1"
              specular="1.0"
              shininess="1.0"
              reflectance="0.5"/>
  </asset>

  <keyframe>
    <key name="standing_pose" time="130.75"
         qpos="0.279664 0.00788265 0.0369818 -0.57675 0.235483 -0.0539066 -0.0335249 -0.080906 -0.370046 0.376388"
         qvel="-1.65049e-15 1.62666e-16 2.74521e-16 3.63341e-15 -1.24239e-15 3.85159e-08 3.53092e-09 -9.57121e-10 1.42129e-08 4.32272e-10"
         ctrl="1.2874 0 0.0471 -0.9263 0.2512 -0.8164 -0.1727 -0.0628 -0.8635 0.3925"/>
  </keyframe>

  <!-- ===================== -->
  <!--        WORLD           -->
  <!-- ===================== -->
  <worldbody>
    <light pos="0 0 3" dir="0 0 -1" diffuse="0.8 0.8 0.8" specular="0.2 0.2 0.2" directional="false"/>
    <light pos="2 2 3" dir="-0.5 -0.5 -1" diffuse="0.5 0.5 0.5" specular="0.1 0.1 0.1" directional="false"/>
    <light pos="-2 2 3" dir="0.5 -0.5 -1" diffuse="0.5 0.5 0.5" specular="0.1 0.1 0.1" directional="false"/>
    
    <geom name="floor" type="plane" size="5 5 0.1" material="grid" contype="1" conaffinity="1"/>

    <!-- HIP (root body) -->
    <body name="hip" pos="0 0 0.2">
      <freejoint name="root"/>
      <geom mesh="hip" contype="1" conaffinity="1" group="1"/>
      <geom mesh="hip_visual" material="metal_silver"/>
      <geom type="box" size="0.16 0.08 0.12" pos="-0.155 -0.03 0.765" contype="1" conaffinity="1" material="metal_silver"/>
      <inertial pos="-155.587 -29.06 584.318" mass="5159.055" fullinertia="15600000 23770000 25170000 178.966 1857.794 -43706.028"/>

      <!-- LEFT LEG -->
      <body name="left_leg1" pos="0 0 0">
        <joint name="left_hip1_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="-0.068372 -0.029495 0.577401"/>
        <geom mesh="left_leg1" contype="1" conaffinity="1" group="1"/>
        <geom mesh="left_leg1_visual" material="metal_silver"/>
        <interial pos="-5.945 -35.287 577.433" mass="2189.611" fullinertia="2609000 3137000 3391000 81259.088 1365.266 223.227"/>

        <body name="left_leg2" pos="0 0 0" >
          <joint name="left_hip2_joint" type="hinge" axis="0 1 0" range="-1.57 1.57" pos="-0.000048 -0.029495 0.577401"/>
          <geom mesh="left_leg2" contype="1" conaffinity="1" group="1"/>
          <geom mesh="left_leg2_visual" material="metal_silver"/>
          <inertial pos="-0.018 -25.475 486.173" mass="1709.674" fullinertia="6082000 5232000 2818000 25844.041 765.045 -579800"/>

          <body name="left_leg3" pos="0 0 0">
            <joint name="left_thigh_joint" type="hinge" axis="0 0 1" range="-1.57 1.57" pos="-0.000048 -0.029495 0.463816"/>
            <geom mesh="left_leg3" contype="1" conaffinity="1" group="1"/>
            <geom mesh="left_leg3_visual" material="metal_silver"/>
            <inertial pos="5.174 -30.248 318.931" mass="3156.742" fullinertia="9368000 8100000 4377000 46968.418 201400 -49473.856"/>

            <body name="left_leg4" pos="0 0 0">
              <joint name="left_knee_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="-0.000048 -0.029495 0.306338"/>
              <geom mesh="left_leg4" contype="1" conaffinity="1" group="1"/>
              <geom mesh="left_leg4_visual" material="metal_silver"/>
              <inertial pos="1.337 -31.134 183.938" mass="1980.828" fullinertia="11710000 11930000 2972000 -22781.438 283900 -234100"/>

              <body name="left_foot" pos="0 0 0">
                <joint name="left_ankle_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="0.00958 -0.03 0.031528"/>
                <geom mesh="left_foot" contype="1" conaffinity="1" group="1"/>
                <geom mesh="left_foot_visual" material="metal_silver"/>
                <inertial pos="-0.53 -20.276 11.109" mass="765.723" fullinertia="2071000 467800 2213000 -17795.772 2818.065 116700"/>
              </body>
            </body>
          </body>
        </body>
      </body>

      <!-- RIGHT LEG -->
      <body name="right_leg1" pos="0 0 0">
        <joint name="right_hip1_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="-0.24290 -0.029495 0.577401"/>
        <geom mesh="right_leg1" contype="1" conaffinity="1" group="1"/>
        <geom mesh="right_leg1_visual" material="metal_silver"/>
        <inertial pos="-305.326 -35.287 577.434" mass="2189.548" fullinertia="2609000 3137000 3391000 -81252.869 -1353.92 224.81"/>

        <body name="right_leg2" pos="0 0 0">
          <joint name="right_hip2_joint" type="hinge" axis="0 1 0" range="-1.57 1.57" pos="-0.311223 -0.029495 0.577401"/>
          <geom mesh="right_leg2" contype="1" conaffinity="1" group="1"/>
          <geom mesh="right_leg2_visual" material="metal_silver"/>
          <inertial pos="-311.252 -25.506 485.714" mass="1722.84" fullinertia="6132000 5281000 2822000 -25837.194 -742.612 -583000"/>

          <body name="right_leg3" pos="0 0 0">
            <joint name="right_thigh_joint" type="hinge" axis="0 0 1" range="-1.57 1.57"  pos="-0.311223 -0.029495 0.463816"/>
            <geom mesh="right_leg3" contype="1" conaffinity="1" group="1"/>
            <geom mesh="right_leg3_visual" material="metal_silver"/>
            <inertial pos="-317.293 -30.266 318.75" mass="3074.969" fullinertia="9174000 7824000 4262000 -45044.639 -225500 -49133.206">

            <body name="right_leg4" pos="0 0 0">
              <joint name="right_knee_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="-0.311223 -0.029495 0.306338"/>
              <geom mesh="right_leg4" contype="1" conaffinity="1" group="1"/>
              <geom mesh="right_leg4_visual" material="metal_silver"/>
              <inertial pos="-312.608 -31.134 183.938" mass="1980.828" fullinertia="11710000 11930000 2972000 22781.459 -283900 -234100"/>

              <body name="right_foot" pos="0 0 0">
                <joint name="right_ankle_joint" type="hinge" axis="1 0 0" range="-1.57 1.57" pos="-0.320851 -0.03 0.031528"/>
                <geom mesh="right_foot" contype="1" conaffinity="1" group="1"/>
                <geom mesh="right_foot_visual" material="metal_silver"/>
                <inertial pos="-310.741 -20.276 11.109" mass="765.723" fullinertia="2071000 467800 2213000 17795.772 -2818.065 116700"/>

              </body>
            </body>
          </body>
        </body>
      </body>
    </body>

  </worldbody>

  <!-- ===================== -->
  <!--        ACTUATORS       -->
  <!-- ===================== -->
  <actuator>
    <position name="left_hip1_act" class="servo" joint="left_hip1_joint"
              kp="5" inheritrange="1"/>
    <position name="left_hip2_act" class="servo" joint="left_hip2_joint"
              kp="5" inheritrange="1"/>
    <position name="left_thigh_act" class="servo" joint="left_thigh_joint"
              kp="5" inheritrange="1"/>
    <position name="left_knee_act" class="servo" joint="left_knee_joint"
              kp="5" inheritrange="1"/>
    <position name="left_ankle_act" class="servo" joint="left_ankle_joint"
              kp="5" inheritrange="1"/>

    <position name="right_hip1_act" class="servo" joint="right_hip1_joint"
              kp="5" inheritrange="1"/>
    <position name="right_hip2_act" class="servo" joint="right_hip2_joint"
              kp="5" inheritrange="1"/>
    <position name="right_thigh_act" class="servo" joint="right_thigh_joint"
              kp="5" inheritrange="1"/>
    <position name="right_knee_act" class="servo" joint="right_knee_joint"
              kp="5" inheritrange="1"/>
    <position name="right_ankle_act" class="servo" joint="right_ankle_joint"
              kp="5" inheritrange="1"/>
  </actuator>

  <contact>
    <!-- No collisions between neighboring links of the left leg -->
    <exclude body1="hip" body2="left_leg1"/>
    <exclude body1="left_leg1" body2="left_leg2"/>
    <exclude body1="left_leg2" body2="left_leg3"/>
    <exclude body1="left_leg3" body2="left_leg4"/>
    <exclude body1="left_leg4" body2="left_foot"/>

    <!-- Same idea for the right leg -->
    <exclude body1="hip" body2="right_leg1"/>
    <exclude body1="right_leg1" body2="right_leg2"/>
    <exclude body1="right_leg2" body2="right_leg3"/>
    <exclude body1="right_leg3" body2="right_leg4"/>
    <exclude body1="right_leg4" body2="right_foot"/>

    <!-- (Optional) disable left-vs-right leg collisions, if you want -->
    <!-- <exclude body1="left_leg1" body2="right_leg1"/> -->
  </contact>


</mujoco>
